народ, не подскажете, как в bat-файле прописать ввод пароля? суть в чем: я хочу по сети отдать команду runas, а она требует ввода пароля, причем ей по барабану, даже если пароль пустой. я это дело приписал в батник, но все равно вываливается окошко с требованием ввода пароля. как этот воод пароля прописать в батнике?
вот что я прописал в батнике:

runas /netonly /user:workgroup\user "shutdown /s /m \\xxx.xxx.xxx.xx"

после запуска этого батника все равно вываливается командная строка с просьбой ввести пароль. а user:pass так и писать. это на случай, если не найду в справке... )))

echo пароль | runas /netonly /user:workgroup\user "shutdown /s /m \\xxx.xxx.xxx.xx"
rem переназначение стандартного вывода программы 'echo' на стандартный ввод программы 'runas'

runas /netonly /user:workgroup\user "shutdown /s /m \\xxx.xxx.xxx.xx" <текстовый_файл_с_паролем
rem переназначение стандартного ввода программы 'runas'


маленькое лирическое отступление...
столкнулся на работе со странным человеком: мятая одежда, волосы дыбом, борода и глаза за линзами очков, которые, казалось, смотрят сквозь тебя. рассуждал он о способах обойти посыпавшееся место на винчестере, в котором распологается файловая таблица фата. сотрудник мне показал на него и сказал, что это тот, кто может мне помочь с моим вопросом о батнике. я за него ухватился и стал расспрашивать. он попросил меня показать этот батник. мы пошли к компьютеру, там он посмотрел на батник и... попросил дать ему командную строку. я удивился, но нажал Win+R и набрал cmd. он попробовал команду, удостоверился, что она требует пароля. затем быстро добавил <nul. проверил -- сработало. потом тут же попробовал второй вариант с echo. тоже сработало. я в это время тихо офигевал рядом... ))) попросил объяснений. думал, что он начнет рассказывать пространно о возможностях этих команд. он же мне дал именно те объяснения, которые я всегда хотел знать: что происходит при работе этих команд в памяти компьютера, порядок их работы, напечатал попутно ремарки в батнике, затем перескочил на сравнитильную характеристику доса и юникса, выдавая такие подробности доступным (как ни странно) моему пониманию языком, что мне ничего не оставалось другого, кроме как жадно впитывать новые знания. вот тогда я понял, что это юниксоид и программист С++. потом мы пошли курить, там он продолжил свою лекцию, перескакивая на разные темы, в том числе (кто бы сомневался!) и на билла гейтса, рассказывая занятные вещи и настоятельно рекомендуя мне прочитать его книгу (!), дабы самому удостовериться, что это все правда. затем показал мне на своем компьютере несколько команд в юниксе, продолжая свои разъяснения на самых разных уровнях, от отдельных команд и до общей теории операцинных систем. потом разговорились на общие темы. это было в конце рабочего дня, я попутно собирался домой. выяснилось, что он преподаватель программирования, приходящий, когда набрана группа. и когда он спросил, чем я занимаюсь в этом месте, у меня было устойчивое желание ответить как в анекдоте: "а я уже и не знаю, кто я..." ))) в итоге я за 25 минут узнал больше о работе командной строки, чем за всю жизнь! я в шоке от этого человека. он словно бы пришел из семидесятых годов, зная поразительные вещи (для меня поразительные) и в то же время с любопытством рассматривая мою гарнитуру для телефона, словно какую-нибудь диковину и удивляясь, что у меня запросто стоят на столе usb-шные хард и дивиди-резак. живой герой книги стивена леви "хакеры -- герои компьютерной революции", как я их себе представлял, читая книгу. я до сих пор под впечатлением от этого человека. и теперь уже не знаю, то ли мне есть к чему стремиться, то ли мне лучше пойти в дворники... )))


==============================================

Продвинутым пользователям и администраторам для решения различных задач бывает крайне необходимо запускать приложения от имени другого аккаунта. В этой статье мы рассмотрим некоторые новые возможности данного процесса в Windows XP Professional и Windows 2003, а также расскажем о компоненте управления удостоверениями. Для Windows XP Home Edition (а также всех предыдущих версий операционной системы Windows) эта статья не применима. 

Итак, не секрет, что для решения этой задачи в Windows существует стандартная команда RUNAS, формат её таков: 

RUNAS /USER:имя_пользователя "запускаемая_программа" 

Однако вам каждый раз надо будет вводить пароль пользователя, от имени которого вы хотите запустить программу. Это неудобно, но очень разумно с точки зрения безопасности, ибо пароль не должен так просто лежать в bat-файле. 

В Windows XP Professional и Windows 2003 у команды RUNAS появился новый ключ, который эту проблему решает - /SAVECRED. Если вы укажете его в команде RUNAS, то пароль вам будет предложено ввести только один раз. А далее всевозможные запуски любых программ от имени этого пользователя через команду RUNAS пароля запрашивать не будут! 

Очевидно, рано или поздно вы захотите, чтобы возможность запуска без пароля прекратилась. Для этого грациозно следуем в "Пуск -> Выполнить" и в командной строке набираем команду control userpasswords2, а в открывшемся окне идём на вкладку "Дополнительно".