# Internet: cookies

- :newspaper: [\[Перевод\] Всё о файлах cookie и их безопасности | Ent_TranslateIB | Ent_TranslateIB | Хабр](https://habr.com/ru/articles/710578/)

HTTP является протоколом без статических данных, что означает, что он не может различать два последовательных запроса, исходящих от одного и того же компьютера, сети или пользователя. Это было основной проблемой. Из-за этого пользователь не мог поддерживать свою сессию.

Чтобы решить эту проблему, HTTP нужно было сделать с сохранением состояния. Ответом стал файл cookie. В отличие от cookie, которые вы получаете, это небольшие файлы, создаваемые веб-сайтом, который вы посещаете. Они генерируются веб-приложениями и хранятся в вашем браузере в виде пар ключ-значение.

## Атрибуты cookies

- :newspaper: [\[Перевод\] Всё о файлах cookie и их безопасности | Ent_TranslateIB | Ent_TranslateIB | Хабр](https://habr.com/ru/articles/710578/)
- :newspaper: [SameSite cookies explained | web.dev](https://web.dev/articles/samesite-cookies-explained)

### SameSite

Флаг `SameSite` помечает куки для одного доменного имени. В результате источник запроса подвергается проверке. Считается, что cookies и источник запроса имеют одинаковое происхождение, если протокол, порт (если применимо) и хост (но не IP-адрес) одинаковы для обоих. Таким образом не получится отправить запрос с мошеннического сайта.

```http
Set-Cookie: promo_shown=1; SameSite=Lax
```

- `Strict` - значение запрещает браузеру передавать cookie на целевой сайт, даже когда пользователь переходит по обычной ссылке.
- `Lax` - если пользователь переходит по обычной ссылке, cookie будет включен в запрос. Значение является хорошим балансом между безопасностью и удобством использования для сайтов, которые хотят, чтобы пользователи оставались в системе после перехода по внешней ссылке.

### Secure

`Secure`: Если установлено значение true, cookie будет отправляться только при соединении HTTPS. Это может быть использовано для снижения риска атаки MITM, при которой злоумышленник заставляет пользователя просматривать сайт по протоколу HTTP. Если этот флаг установлен, cookie не будет передаваться по HTTP.

### HttpOnly

`HttpOnly`: Если установлено значение `true`, JavaScript на стороне клиента не сможет получить доступ к файлу cookie. Это может быть использовано для сохранения cookie от XSS-атаки, которая крадет cookie. Таким образом, javascript на стороне клиента не сможет получить доступ к cookie.
